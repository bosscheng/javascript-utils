<!--
 * @Author: xiuquanxu
 * @Company: kaochong
 * @Date: 2020-12-30 19:29:32
 * @LastEditors: xiuquanxu
 * @LastEditTime: 2020-12-30 19:59:50
-->
### 比特率  
表示每秒钟传输的位数（b），单位bps（bit per second）,也可以表示b/s。  

### 采样和采样率  
采样指的是把连续的时间信号变成离散的数字信号的过程。  
采样率指的是每秒钟能采集多少个样本 

### 常见音频格式  

1. wav
2. mp3:  MP3能够以高音质、低采样率对数字音频文件进行压缩。应用最普遍。
3. aac:  AAC可以在比MP3文件缩小30%的前提下提供更好的音质。
4. ogg:  它是完全免费 、开放和没有专利限制的，同样位速率(Bit Rate)编码的OGG与MP3相比听起来更好一些。  

### 什么是回音消除  
当A和B通话时候，B说的话通过A的录音设备又录制进去后B又听见自己的声音，这就叫做回音。我们通过技术手段消除这部分声音的方法就叫做回音消除。  

### 回音消除为什么不容易  
传给回音消除器的两个声音信号，必须同步得非常好，就是说在B端接收到A说的话以后，要把这些声音数据传给回声消除器做参考，然后再传给声卡，声卡播放出来，这里有一段延时，这时B再采集，然后传给回音消除器，与那个参考数据比较，从采集到的数据中把频率和参考数据相同的部分消除掉。

如果传给消除器的两个信号同步得不好，即两个信号找不到频率相同的部分，就没有办法进行消除了。

在一般的VOIP软件中，接收对方的声音并传到声卡中播放是在一个线程中进行的，而采集本地的声音并传送到对方又是在另一个线程中进行的，而声学回声消除器在对采集到的声音进行回声消除的同时，还需要播放线程中的数据作为参考，而要同步这两个线程中的数据是非常困难的，因为稍稍有些不同步，声学回声消除器中的自适应滤波器就会发散，不但消除不了回声，还会破坏采集到的原始声音，使被破坏的声音难以分辨。  

### 回音消除方法  
产生：  
1. 直接回音：由扬声器产生的声音未经任何反射直接进入麦克风
2. 间接回音：由扬声器发出的声音经过多次反射后，再进入Mic  


第一种：通过硬件实现，有很多手机就是这么做的，也有专业的芯片，但是只支持8khz的，如果要求高质量的音质的话，基本实现不了。

第二种：通过软件实现，qq，msn，skype很多具有通话功能的软件，现在都具有回声消除的功能（需是比较高版本的，低版本的可能没有），但是实现代码是不对外的，开源的回声消除代码只有speex和webrtc。

一般常用的开源的AEC有两个：Speex 和 webrtc。webrtc相对比Speex强的多，原因如下：
1. webrtc有回声时延估计算法模块
2. webrtc有neteq模块
3. webrtc核心就是gips，原因你懂的。